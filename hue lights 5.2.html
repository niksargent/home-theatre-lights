<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Hue Control Prototype v4.8</title>
  <link rel="stylesheet" href="style.css">
</head>
<body class="theme-normal">
  <!-- Setup Panel Toggle -->
  <button class="toggle-panel-btn" onclick="UIRenderer.togglePanel()">Setup</button>
  
  <!-- Setup Panel -->
  <div id="flyout-panel" class="flyout-panel">
    <h2>Setup &amp; Configuration</h2>
    <div class="control-group">
      <label for="bridge-ip">Hue Bridge IP Address:</label>
      <input type="text" id="bridge-ip" placeholder="e.g., 192.168.1.2">
    </div>
    <div class="control-group">
      <button onclick="authenticate()">Authenticate</button>
      <p id="auth-status"></p>
    </div>
    <div class="control-group">
      <button onclick="discoverLights()">Discover Lights</button>
      <p id="discover-status"></p>
    </div>
    <div class="control-group">
      <button onclick="refreshLightStatus()">Refresh Light Status</button>
    </div>
    <div class="control-group">
      <label for="flash-delay">Flash Delay (ms):</label>
      <input type="number" id="flash-delay" value="1000" onchange="localStorage.setItem('flashDelay', this.value)">
    </div>
    <div class="control-group">
      <label for="auto-refresh-unassigned">Auto-refresh Unassigned Lights:</label>
      <input type="checkbox" id="auto-refresh-unassigned" checked>
    </div>
    <div class="control-group">
      <label for="use-mock">Use Mock Bridge (offline):</label>
      <input type="checkbox" id="use-mock" onchange="toggleMockMode(this.checked)">
    </div>
    <div class="control-group">
      <label for="controls-position">Controls Position:</label>
      <select id="controls-position" onchange="updateControlsPosition(this.value)">
        <option value="top">Top</option>
        <option value="bottom">Bottom</option>
      </select>
    </div>
    <div class="control-group">
      <label for="dark-mode">Dark Mode:</label>
      <select id="dark-mode" onchange="updateDarkMode(this.value)">
        <option value="normal">Normal</option>
        <option value="dim">Dim</option>
        <option value="dark">Dark</option>
        <option value="very-dark">Very Dark</option>
      </select>
    </div>
  </div>
  
  <!-- Main Content -->
  <div id="main-content" class="main-content">
    <div class="section">
      <h2>Groups Management</h2>
      <div class="filter-group">
        <button onclick="GroupManager.createGroup()">Add Group</button>
        <button onclick="GroupManager.toggleGroupLayout()">Toggle Group Layout</button>
        <input type="text" id="light-filter" placeholder="Filter Lights" oninput="scheduleRender()">
        <span class="global-bpm">Global BPM:</span>
        <input type="number" id="global-bpm" placeholder="BPM" style="width:60px;" onchange="GlobalSettings.setGlobalBPM(this.value)">
      </div>
      <div id="groups-container" class="horizontal"></div>
    </div>
  </div>
  
  <script src="transport.js"></script>
  <script src="main.js"></script>
</body>
</html>

